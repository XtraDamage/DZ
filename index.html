<!DOCTYPE html>
<html lang="ru" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>404 | Страница не найдена</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    <!-- Material Symbols -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,1,0" />

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Google Sans', 'Roboto', 'sans-serif'],
                        mono: ['Roboto Mono', 'monospace'],
                    },
                    borderRadius: {
                        '4xl': '32px',
                        '5xl': '40px',
                    },
                    colors: {
                        // Точно такие же цвета как в geometry.html
                        light: {
                            bg: '#FDF7FF',
                            surface: '#FFF',
                            surfaceContainer: 'rgb(var(--color-surface-container) / <alpha-value>)',
                            surfaceContainerHigh: 'rgb(var(--color-surface-container-high) / <alpha-value>)',
                            primary: 'rgb(var(--color-primary) / <alpha-value>)',
                            onPrimary: 'rgb(var(--color-on-primary) / <alpha-value>)',
                            secondaryContainer: 'rgb(var(--color-secondary-container) / <alpha-value>)',
                            onSecondaryContainer: 'rgb(var(--color-on-secondary-container) / <alpha-value>)',
                            tertiaryContainer: 'rgb(var(--color-tertiary-container) / <alpha-value>)',
                            onTertiaryContainer: 'rgb(var(--color-on-tertiary-container) / <alpha-value>)',
                            correct: '#E8F5E9',
                            onCorrect: '#1B5E20',
                            error: '#FFEBEE',
                            onError: '#B71C1C',
                        },
                        dark: {
                            bg: '#0F0D13',
                            surface: '#141218',
                            surfaceContainer: '#211F26',
                            surfaceContainerHigh: '#2B2930',
                            primary: 'rgb(var(--color-primary) / <alpha-value>)',
                            onPrimary: 'rgb(var(--color-on-primary) / <alpha-value>)',
                            secondaryContainer: 'rgb(var(--color-secondary-container) / <alpha-value>)',
                            onSecondaryContainer: 'rgb(var(--color-on-secondary-container) / <alpha-value>)',
                            tertiaryContainer: 'rgb(var(--color-tertiary-container) / <alpha-value>)',
                            onTertiaryContainer: 'rgb(var(--color-on-tertiary-container) / <alpha-value>)',
                            correct: '#1E3226',
                            onCorrect: '#A5D6A7',
                            error: '#410E0B',
                            onError: '#F2B8B5',
                        }
                    },
                    animation: {
                        'enter': 'enter 0.6s cubic-bezier(0.2, 0.0, 0, 1.0) forwards',
                        'float': 'float 3s ease-in-out infinite',
                    },
                    keyframes: {
                        enter: {
                            '0%': { opacity: 0, transform: 'translateY(20px)' },
                            '100%': { opacity: 1, transform: 'translateY(0)' },
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body { 
            -webkit-tap-highlight-color: transparent; 
            overscroll-behavior-y: none;
            transition: background-color 0.5s ease;
        }
        .math-font { 
            font-family: 'Times New Roman', serif; 
            font-style: italic; 
        }
    </style>
</head>
<body class="bg-light-bg dark:bg-dark-bg text-[#1D1B20] dark:text-[#E6E0E9] min-h-screen transition-colors duration-500 overflow-hidden">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        /* --- Theme Logic (Exact Copy from Geometry) --- */
        const hslToRgb = (h, s, l) => {
            s /= 100;
            l /= 100;
            const k = n => (n + h / 30) % 12;
            const a = s * Math.min(l, 1 - l);
            const f = n =>
                l - a * Math.max(-1, Math.min(k(n) - 3, Math.min(9 - k(n), 1)));
            const r = Math.round(255 * f(0));
            const g = Math.round(255 * f(8));
            const b = Math.round(255 * f(4));
            return `${r} ${g} ${b}`;
        };

        const updateThemeVariables = (primaryHue, tertiaryHue, isDark) => {
            const root = document.documentElement;
            if (!isDark) {
                root.style.setProperty('--color-primary', hslToRgb(primaryHue, 60, 40)); 
                root.style.setProperty('--color-on-primary', '255 255 255');
                root.style.setProperty('--color-surface-container', hslToRgb(primaryHue, 20, 96));
                root.style.setProperty('--color-surface-container-high', hslToRgb(primaryHue, 25, 92));
                root.style.setProperty('--color-secondary-container', hslToRgb(primaryHue, 30, 90));
                root.style.setProperty('--color-on-secondary-container', '#1D192B');
                root.style.setProperty('--color-tertiary-container', hslToRgb(tertiaryHue, 40, 90));
                root.style.setProperty('--color-on-tertiary-container', hslToRgb(tertiaryHue, 60, 20));
            } else {
                root.style.setProperty('--color-primary', hslToRgb(primaryHue, 70, 80)); 
                root.style.setProperty('--color-on-primary', hslToRgb(primaryHue, 70, 20));
                root.style.setProperty('--color-surface-container', '#211F26'); 
                root.style.setProperty('--color-surface-container-high', '#2B2930');
                root.style.setProperty('--color-secondary-container', hslToRgb(primaryHue, 20, 30));
                root.style.setProperty('--color-on-secondary-container', hslToRgb(primaryHue, 70, 90));
                root.style.setProperty('--color-tertiary-container', hslToRgb(tertiaryHue, 40, 30));
                root.style.setProperty('--color-on-tertiary-container', hslToRgb(tertiaryHue, 70, 90));
            }
        };

        const Icon = ({ name, className = "" }) => (
            <span className={`material-symbols-rounded select-none ${className}`}>{name}</span>
        );

        const App = () => {
            useEffect(() => {
                const savedTheme = localStorage.getItem('theme') || 'dark';
                // EXACT same defaults as Geometry: 260 for Primary, 320 for Tertiary
                const savedHue = parseInt(localStorage.getItem('accentHue')) || 260;
                const savedTertiaryHue = parseInt(localStorage.getItem('tertiaryHue')) || 320;
                
                document.documentElement.classList.toggle('dark', savedTheme === 'dark');
                updateThemeVariables(savedHue, savedTertiaryHue, savedTheme === 'dark');
            }, []);

            const handleGoBack = () => {
                window.location.href = 'https://tglinktool.github.io/DnevnikVclass/';
            };

            return (
                <div className="max-w-md mx-auto h-screen flex flex-col items-center justify-center px-8 text-center">
                    
                    {/* Background decoration */}
                    <div className="absolute inset-0 pointer-events-none overflow-hidden opacity-20">
                        <div className="absolute top-[-10%] left-[-10%] w-64 h-64 rounded-full bg-light-primary dark:bg-dark-primary blur-[100px]"></div>
                        <div className="absolute bottom-[-10%] right-[-10%] w-64 h-64 rounded-full bg-light-primary dark:bg-dark-primary blur-[100px]"></div>
                    </div>

                    {/* Main content */}
                    <div className="relative z-10 animate-enter">
                        <div className="mb-8 animate-float">
                            <div className="text-[120px] font-bold math-font leading-none text-light-primary dark:text-dark-primary opacity-90">
                                404
                            </div>
                            <div className="w-24 h-1.5 bg-light-primary dark:bg-dark-primary mx-auto rounded-full opacity-30 mt-2"></div>
                        </div>

                        <h1 className="text-3xl font-bold mb-4 tracking-tight">Координаты <br/><span className="opacity-50">не найдены</span></h1>
                        
                        <p className="text-sm opacity-60 leading-relaxed mb-10 max-w-[280px] mx-auto">
                            Похоже, эта точка не принадлежит плоскости нашего приложения.
                        </p>

                        <button 
                            onClick={handleGoBack}
                            className="w-full py-4 bg-light-primary dark:bg-dark-primary text-white dark:text-dark-onPrimary rounded-2xl font-bold flex items-center justify-center gap-3 shadow-lg active:scale-95 transition-all"
                        >
                            <Icon name="arrow_back" />
                            Вернуться в Дневник
                        </button>
                    </div>

                    <footer className="absolute bottom-8 text-[10px] font-bold opacity-30 uppercase tracking-[0.2em]">
                        Ошибка доступа
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
